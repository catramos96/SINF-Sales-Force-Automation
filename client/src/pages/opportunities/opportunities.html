<ion-header>
  <ion-navbar>
    <button ion-button menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>
    <ion-title>Opportunities</ion-title>
  </ion-navbar>
</ion-header>

<ion-content padding>
    <ion-grid>
      <ion-row style="padding-left:1%">
        <button ion-button (click)="createOpportunity()">
          Create Opportunity
        </button>
      </ion-row>
      <ion-row *ngIf="opp.length == 0">
        <br><br>
        <p> No opportunities to display</p>
      </ion-row>
      <ion-row *ngFor="let r of opp">
        <ion-col *ngFor="let c of r.row">
          <!-- opportunity -->
          <ion-card *ngIf="c!=null">
            <ion-card-header class="inline">
              {{c.Descricao}}
            </ion-card-header>
            <ion-card-content >
              <b>Client</b> : {{c.NomeCliente}}  ,  {{c.ContactoCliente}} <br>
              <b>Date</b> : {{c.DataCriacao}} <br>
              <button *ngIf="isApp === true" (click)="sendOpportunity(c.ID,c.Descricao)"
                ion-button block color="secondary">Associate
              </button>
            </ion-card-content>
            <div class="centered">
              <button ion-button outline item-end>
                Activities
              </button>
              <button ion-button outline item-end (click)="openOpportunity(c.ID)">
                Details
              </button>
            </div> 
          </ion-card>
        </ion-col>
      </ion-row>
    </ion-grid>
</ion-content>